"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10982],{73915:function(e,t,n){n.d(t,{e:function(){return a}});var r=n(26042),s=n(11987),a=function(e){var t=e.urlParams,n=void 0===t?{}:t,a=e.queryParams,i=void 0===a?{}:a,o="/bundle/".concat(n.filename),c=(0,r.Z)({},i);return{url:o,defaultParams:c,formattedUrl:(0,s.format)({pathname:o,query:c})}}},71578:function(e,t,n){n.d(t,{Oo:function(){return Z},rB:function(){return b}});var r=n(47568),s=n(26042),a=n(70655),i=n(23204),o=n.n(i),c=n(85672),u=n(82475),l=n(24899),d=n(70056),f=n(42149),p=n(48588),v=n(19576),m=n(75957),_=n(14587),h=n(28741),y=n(72957),w=n(27725),g=n(95624),b=function(e){var t,n,r=e.asset;return(null===r||void 0===r||null===(t=r.metadata)||void 0===t||null===(n=t.cart)||void 0===n?void 0:n.sizes)||r.sizes},A=function(){var e=(0,r.Z)((function(e){var t,n,r,s;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return!(null===(t=e.asset)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.cart)||t.metadata.cart.sizes?[3,2]:(r=(0,y.so)(t),s={id:t.id},r&&(s.channel=f.$S,s.content_provider=p._e),[4,m.uS.get((0,c.om)({queryParams:s}).formattedUrl).then((function(e){var t=e.data;return(0,_.O)(t)}))]);case 1:return[2,a.sent().sizes];case 2:return[2,b({asset:t})]}}))}));return function(t){return e.apply(this,arguments)}}(),z=function(e){var t,n,r,s,a=e.selectedAssetSize,i=e.asset,c=b({asset:i}),d=(0,y.EK)(i);if(!c&&(null===i||void 0===i||null===(t=i.metadata)||void 0===t||null===(n=t.cart)||void 0===n?void 0:n.size)&&i.metadata.cart.format)return{content_size:d?l.vD:i.metadata.cart.size,content_format:i.metadata.cart.format};var f,p=Object.values(c);return f=i.licenseAsJpeg||(null===(r=i.metadata)||void 0===r||null===(s=r.cart)||void 0===s?void 0:s.licenseAsJpeg)?p.find((function(e){return e.format===u._3})):w.Bg[a]?(0,h.AR)({sizes:p,compSizeImage:a}):(0,h.Nf)(p),{content_size:d?l.vD:w.nd[o()(f.name)].downloadName,content_format:f.format}},S=function(e){var t=e.map[e.licenseName];return t===l.T0?l.qY:t},N=function(){var e=(0,r.Z)((function(e){var t,n,r,s,i,o,c,u;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=e.asset,n=e.licenseName,r=e.isVideoComp,s=e.selectedAssetSize,[4,A({asset:t})];case 1:return i=a.sent(),o=function(e){var t=e.asset,n=e.licenseName,r=e.isVideoComp,s=e.selectedAssetSize,a=e.sizes,i=(0,y.EK)(t),o=(0,y.cL)(t),c=(0,y.$Q)({sizes:Object.values(a)});return!r&&c?S({map:w.Q1,licenseName:n}):r||n===v.f1||i||o?!s||i||o?(0,h.mF)(a):w.kR[s]:S({map:w.kR,licenseName:n})}({asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:s,sizes:i}),c=(0,y.EK)(t),u=Object.values(i).find((function(e){var t=e.resolution;return w.wb[null===t||void 0===t?void 0:t.toLowerCase()]===o})),[2,{content_size:c?l.vD:o,content_format:null===u||void 0===u?void 0:u.format}]}}))}));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t;switch(e.selectedAssetSize){case"stereo":t=l.cs;break;case"5.1":t=l.gp;break;default:t=l.yy}return{content_size:t,content_format:u._Y}},k=function(){var e=(0,r.Z)((function(e){var t,n,r,s,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:switch(t=e.asset,n=e.licenseName,r=e.isVideoComp,s=e.selectedAssetSize,i=(0,g.qw)({asset:t}),(0,y.so)(t)&&(i=d.A7),i){case d.pX:case d.A7:return[3,1];case d.j0:return[3,3];case d.tn:return[3,4]}return[3,5];case 1:return[4,N({asset:t,licenseName:n,isVideoComp:r,selectedAssetSize:s})];case 2:return[2,a.sent()];case 3:return[2,{content_size:l.Ng,content_format:d.j0}];case 4:return[2,C({selectedAssetSize:s})];case 5:return[2,z({selectedAssetSize:s,asset:t})];case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,r.Z)((function(e){var t,n,r,i,o,c,u;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=e.licenseName,n=e.selectedAssetSize,r=e.asset,i=e.isVideoComp,o=(0,g.qw)({asset:r}),c=r.id.toString(),u=[{content_id:c,content_type:(0,g.JD)({assetType:o,assetId:c})}],[4,k({asset:r,licenseName:t,isVideoComp:i,selectedAssetSize:n})];case 1:return[2,s.Z.apply(void 0,u.concat([a.sent()]))]}}))}));return function(t){return e.apply(this,arguments)}}()},95624:function(e,t,n){n.d(t,{Fy:function(){return u},JD:function(){return i},Js:function(){return l},qw:function(){return o},rw:function(){return c}});var r=n(70056),s=n(19576),a=n(72957),i=function(e){var t=e.assetId,n=e.assetType;if((0,a.EK)({id:t}))return r.gP;switch(n){case r.k4:case r.Y_:case r.ox:return r.pV;case r.FM:return r.pX;case r.xF:case r.jr:return r.j0;case r.tn:return r.tn;default:return n}},o=function(e){var t,n=e.asset;if(null===(t=n.image)||void 0===t?void 0:t.isVector)return r.ox;if((0,a.EK)(n))return r.gP;var s=n.imageType||n.itemType||n.type;switch(s){case r.e3:case r.X2:case r.Y_:return r.k4;case r.FM:return r.pX;case r.jr:return r.j0;case r.tn:return r.tn;default:return s}},c=function(e){var t=e.asset;if((0,a.N3)(t))return r.gP;if((0,a.so)(t))return r.cF;var n=t.imageType||t.itemType||t.type;switch(n){case r.ox:case r.pV:case r.e3:case r.X2:case r.Y_:return r.k4;case r.FM:return r.pX;case r.jr:return r.j0;case r.tn:return r.tn;default:return n}},u=function(e){var t=e.asset;if((0,a.N3)(t))return r.nX;if((0,a.so)(t))return r.A7;var n=t.imageType||t.itemType||t.type;switch(n){case r.ox:case r.pV:case r.e3:case r.X2:case r.Y_:return r.k4;case r.FM:return r.pX;case r.jr:case r.xF:return r.j0;case r.tn:return r.tn;default:return n}},l=function(e){var t=u({asset:e.mediaItem});return e.licenseName===s._r[t]}},27407:function(e,t,n){n.d(t,{U:function(){return u}});var r=n(26042),s=n(67294),a=n(79235),i=n(78673),o=n(98462),c=n(33340),u=function(){var e=(0,c.yh)().analytics,t=(0,i.PE)().locale;return(0,s.useCallback)((function(n){var s=n.assets,i=void 0===s?[]:s,c=n.audioContext,u=n.eventLabel,l=n.licenseId,d=n.isRedownload,f=n.isQuickDownload,p=n.isPaid,v=n.isComp,m=n.pageSection,_=n.listId,h=u||v&&a.Vp1||void 0;e.productDownloaded((0,r.Z)({products:i.map((function(e){return(0,o.bR)({asset:e,shouldGetSearchContextFromAsset:!0,licenseId:l,pageSection:m})})),download_context:(0,o.OB)({asset:i[0],isComp:v,isPaid:p,isQuickDownload:f,isRedownload:d,language:t}),eventLabel:h,list_id:null!==_&&void 0!==_?_:""},c&&{audio_context:(0,r.Z)({},c)}))}),[e,t])}},71394:function(e,t,n){n.d(t,{A_:function(){return y},QH:function(){return b},VM:function(){return z},Zc:function(){return N},mJ:function(){return g},oe:function(){return S},uG:function(){return w}});var r=n(47568),s=n(26042),a=n(69396),i=n(36305),o=n(70655),c=n(73915),u=n(85672),l=n(70056),d=n(19576),f=n(71578),p=n(28741),v=n(72957),m=n(35772),_=n(75957),h=n(58940),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.target,s=void 0===r?"_self":r,a=document.createElement("a");a.setAttribute("data-automation","FeatureDownload_utils_link"),a.style.display="none",a.href=e,a.target=s,a.download=n||e,document.body.appendChild(a),a.click(),(0,h.bK)()||document.body.removeChild(a)},w=function(){var e=(0,r.Z)((function(e){var t,n,r,s;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return t=e.downloadBundlePayload,n=(0,c.e)({urlParams:{filename:t.bundleFilename}}).formattedUrl,[4,_.jl.post(n,t.content)];case 1:return r=a.sent(),s=r.data,[2,s.public_url]}}))}));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.licensedContent,n=e.supplementalUrlType,r=t[0],s=r.downloadUrl,a=r.supplementalUrls;if((null===a||void 0===a?void 0:a.length)&&n){var i=a.find((function(e){return e.type===n}))||{},o=i.url;return void 0===o?s:o}return s},b=function(){var e=(0,r.Z)((function(e){var t,n,r,s,a,i,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=e.downloadPayload,n=e.supplementalUrlType,r=e.licenseeIdentifier,s=(0,u.f$)({urlParams:{licenseeIdentifier:r}}).formattedUrl,[4,_.uS.post(s,t)];case 1:return a=o.sent(),i=a.data,c=i.meta.licensedContent,[2,{downloadUrl:g({licensedContent:c,supplementalUrlType:n}),licensedContent:c}]}}))}));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=e.existingAssetLicenses,n=e.contentType,r=e.licenseName,s=e.subscriptions;switch(n){case l.pX:var a,o,c=(0,m.I)({existingAssetLicenses:t,subscriptions:(0,i.Z)(null!==(a=null===s||void 0===s?void 0:s.videoSubscriptions)&&void 0!==a?a:[]).concat((0,i.Z)(null!==(o=null===s||void 0===s?void 0:s.videoCompSubscriptions)&&void 0!==o?o:[])),licenseName:r});return(null===c||void 0===c?void 0:c.redeemableFor)||r;case l.j0:return r||d.Tg;case l.tn:return r||d.P1;case l.pV:default:return r}},z=function(){var e=(0,r.Z)((function(e){var t,n,i,c,u;return(0,o.__generator)(this,(function(l){switch(l.label){case 0:return t=e.assets,n=e.existingAssetLicenses,i=e.selectedAssetSize,c=e.subscriptions,u=t.map(function(){var e=(0,r.Z)((function(e){var t,r;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=(0,p.SS)({asset:e}),r=[{}],[4,(0,f.Oo)({asset:e,licenseName:e.licenseId,selectedAssetSize:i})];case 1:return[2,a.Z.apply(void 0,[s.Z.apply(void 0,r.concat([o.sent()])),{license_name:A({existingAssetLicenses:n,contentType:t,licenseName:e.licenseId,subscriptions:c}),show_modal:!0}])]}}))}));return function(t){return e.apply(this,arguments)}}()),[4,Promise.all(u)];case 1:return[2,{required_cookies:"",content:l.sent()}]}}))}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.id&&(e.title||e.description)&&e.type&&window.localStorage.setItem("sstk_ent_asset_preview",JSON.stringify({id:e.id,title:e.title||e.description,thumb:e.src||e.previewImageUrl||"",video:e.previewVideoUrls,url:e.link,type:(0,v.Tp)(e),isRex:e.isRexEditorial}))},N=function(e){return requestAnimationFrame?function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];t&&cancelAnimationFrame(t),t=requestAnimationFrame((function(){e.apply(void 0,(0,i.Z)(r))}))}:e;var t}}}]);
//# sourceMappingURL=AssetDetailsActions.6f50e0ea58344b8c.js.map